@model ThreadShare.Models.HomePageViewModel

@{
    ViewData["Title"] = "Home page";
}

<div>
    <h2>Newest Posts</h2>
    <ul>
        @foreach (var post in Model.NewestPosts)
        {
            var forum = Model.Forums.FirstOrDefault(f => f.Id == post.ForumId);
            <li>
                <h3>
                    <a href="@Url.Action("Details", "Post", new { id = post.Id })">@post.Title</a>
                </h3>
                <p>@post.Body</p>
                <p><strong>Forum:</strong> @forum?.Name</p>
            </li>
        }
    </ul>
</div>

<div>
    <button type="button" class="btn btn-primary" onclick="location.href='@Url.Action("Create", "Post")'">Create New Post</button>
    <button type="button" class="btn btn-secondary" onclick="location.href='@Url.Action("Create", "Forum")'">Create New Forum</button>
</div>
